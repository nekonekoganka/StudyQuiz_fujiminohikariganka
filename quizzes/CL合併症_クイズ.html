<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLåˆä½µç—‡ã‚¯ã‚¤ã‚º - çœ¼ç§‘ã‚¹ã‚¿ãƒƒãƒ•å‘ã‘</title>
    <link rel="stylesheet" href="../css/quiz.css">
</head>
<body>
    <div class="quiz-container">
        <h1>ğŸ‘ï¸â€ğŸ—¨ï¸ CLåˆä½µç—‡ã‚¯ã‚¤ã‚º ğŸ‘ï¸â€ğŸ—¨ï¸</h1>
        <div class="subtitle">çœ¼ç§‘ã‚¹ã‚¿ãƒƒãƒ•å‘ã‘ - ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºã®çœ¼åˆä½µç—‡ã®ç†è§£ã‚’æ·±ã‚ã‚ˆã†</div>
        <div id="quizTitleHeader" class="quiz-title-header hidden">ğŸ‘ï¸â€ğŸ—¨ï¸ CLåˆä½µç—‡ã‚¯ã‚¤ã‚º</div>

        <div class="top-link"><a href="../index.html">â† ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸</a></div>

        <div id="modeSelection" class="mode-selection">
            <button class="mode-button" onclick="startQuiz('daily')">
                ğŸ“‹ ä»Šæ—¥ã®3å•
            </button>
            <button class="mode-button" onclick="startQuiz('full')">
                ğŸ“š å…¨å•ãƒ¢ãƒ¼ãƒ‰ï¼ˆå…¨10å•ï¼‰
            </button>

            <div id="progressStatus" class="progress-status">
                <div class="progress-status-item">
                    <span>âŒ é–“é•ãˆãŸå•é¡Œ:</span>
                    <span id="incorrectCount">0å•</span>
                </div>
                <div class="progress-status-item">
                    <span>ğŸ†• æœªæŒ‘æˆ¦ã®å•é¡Œ:</span>
                    <span id="unansweredCount">10å•</span>
                </div>
                <div class="progress-status-item">
                    <span>âœ… æ­£è§£ã—ãŸå•é¡Œ:</span>
                    <span id="correctCount">0å•</span>
                </div>
                <div class="progress-status-item">
                    <span>ğŸ“Š å…¨å•é¡Œæ•°:</span>
                    <span id="totalQuestionsCount">10å•</span>
                </div>
            </div>

            <button id="reviewModeButton" class="review-mode-button hidden" onclick="startQuiz('review')">
                âŒ é–“é•ãˆãŸå•é¡Œã ã‘å¾©ç¿’
                <span class="btn-sub">è‹¦æ‰‹ã‚’å…‹æœã—ã‚ˆã†</span>
            </button>

            <div class="mode-description">
                <strong>ä»Šæ—¥ã®3å•:</strong> é–“é•ã„ãƒ»æœªæŒ‘æˆ¦ã‚’å„ªå…ˆå‡ºé¡Œ<br>
                <strong>å…¨å•ãƒ¢ãƒ¼ãƒ‰:</strong> å…¨10å•ã‚’é †ç•ªã«å‡ºé¡Œ
            </div>
        </div>

        <div id="quizArea" class="hidden">
            <div class="quiz-status">
                <div class="status-row">
                    <span class="question-progress">å•é¡Œ <span id="currentQ">1</span> / <span id="total">10</span></span>
                    <span class="score-display">æ­£è§£: <span id="score">0</span></span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressBar"></div>
                </div>
            </div>

            <!-- ========== å•é¡Œ1 ========== -->
            <div class="question-card" id="question1">
                <div class="question-number">å•é¡Œ 1</div>
                <div class="question-text">ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºãŒãƒ¡ã‚¬ãƒã¨æ¯”ã¹ã¦æŒã¤å¤§ããªãƒªã‚¹ã‚¯ï¼ˆæ¬ ç‚¹ï¼‰ã¯ä½•ã§ã™ã‹ï¼Ÿ</div>
                <div class="options">
                    <div class="option" data-answer="true">è§’è†œã«ç›´æ¥æ¥è§¦ã™ã‚‹ãŸã‚å‚·ã‚’ã¤ã‘ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹</div>
                    <div class="option" data-answer="false">åƒãŒæ‹¡å¤§ãƒ»ç¸®å°ã—ã¦è¦‹ãˆã‚‹</div>
                    <div class="option" data-answer="false">ãƒ—ãƒªã‚ºãƒ ä½œç”¨ã«ã‚ˆã‚‹ã‚†ãŒã¿ãŒç”Ÿã˜ã‚‹</div>
                    <div class="option" data-answer="false">ã‚¹ãƒãƒ¼ãƒ„æ™‚ã«ã‚±ã‚¬ã®ãƒªã‚¹ã‚¯ãŒé«˜ã¾ã‚‹</div>
                </div>
                <div class="feedback"></div>
                <div class="explanation hidden">
                    <strong>è§£èª¬ï¼š</strong>ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºã¯è§’è†œã«ç›´æ¥æ¥ç€ã—ã¦è¦–åŠ›ã‚’çŸ¯æ­£ã™ã‚‹ãŸã‚ã€è§’è†œã«å‚·ã‚’ã¤ã‘ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã“ã¨ãŒå¤§ããªãƒªã‚¹ã‚¯ã§ã™ã€‚åƒã®æ‹¡å¤§ãƒ»ç¸®å°ã‚„ãƒ—ãƒªã‚ºãƒ ä½œç”¨ã«ã‚ˆã‚‹ã‚†ãŒã¿ã€ã‚±ã‚¬ã®ãƒªã‚¹ã‚¯ã¯ã‚€ã—ã‚ãƒ¡ã‚¬ãƒã®æ¬ ç‚¹ã§ã‚ã‚Šã€CLã¯ã“ã‚Œã‚‰ãŒãªã„ã“ã¨ãŒåˆ©ç‚¹ã§ã™ã€‚
                </div>
            </div>

            <!-- ========== å•é¡Œ2 ========== -->
            <div class="question-card hidden" id="question2">
                <div class="question-number">å•é¡Œ 2</div>
                <div class="question-text">ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºè£…ç”¨ã«ã‚ˆã‚‹ãƒ‰ãƒ©ã‚¤ã‚¢ã‚¤å¯¾ç­–ã¨ã—ã¦é©åˆ‡ã§ãªã„ã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ</div>
                <div class="options">
                    <div class="option" data-answer="true">è£…ç”¨æ™‚é–“ã‚’ã§ãã‚‹ã ã‘é•·ãã™ã‚‹</div>
                    <div class="option" data-answer="false">ä¹¾ãã«ãã„æè³ªã®ãƒ¬ãƒ³ã‚ºã«å¤‰æ›´ã™ã‚‹</div>
                    <div class="option" data-answer="false">ãƒ¯ãƒ³ãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ—ã®ãƒ¬ãƒ³ã‚ºã«å¤‰æ›´ã™ã‚‹</div>
                    <div class="option" data-answer="false">ãƒ‰ãƒ©ã‚¤ã‚¢ã‚¤ç”¨ã®ç›®è–¬ã‚’ã•ã™</div>
                </div>
                <div class="feedback"></div>
                <div class="explanation hidden">
                    <strong>è§£èª¬ï¼š</strong>ãƒ‰ãƒ©ã‚¤ã‚¢ã‚¤å¯¾ç­–ã¨ã—ã¦ã¯ã€ä¹¾ãã«ãã„æè³ªã‚„ãƒ¯ãƒ³ãƒ‡ãƒ¼ã‚¿ã‚¤ãƒ—ã¸ã®å¤‰æ›´ã€ãƒ‰ãƒ©ã‚¤ã‚¢ã‚¤ç”¨ç›®è–¬ã®ä½¿ç”¨ãŒæœ‰åŠ¹ã§ã™ã€‚ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºè£…ç”¨ã¯æ¶™ã®é‡ã‚’æ¸›ã‚‰ã—ãŸã‚Šè’¸ç™ºã‚’ä¿ƒé€²ã—ãŸã‚Šã™ã‚‹ãŸã‚ã€è£…ç”¨æ™‚é–“ã¯ã€Œã§ãã‚‹ã ã‘çŸ­æ™‚é–“ã«ã™ã‚‹ã€ã®ãŒæ­£ã—ã„å¯¾ç­–ã§ã™ã€‚
                    <div class="staff-point">
                        <strong>æ‚£è€…æ§˜ã¸ã®èª¬æ˜ãƒã‚¤ãƒ³ãƒˆï¼š</strong>ã€Œä¹¾ãã‘ã©é•·æ™‚é–“ã¤ã‘ãŸã„ã€ã¨ã„ã†æ‚£è€…æ§˜ã«ã¯ã€è£…ç”¨æ™‚é–“ã‚’çŸ­ãã™ã‚‹ã“ã¨ã®é‡è¦æ€§ã‚’èª¬æ˜ã—ã€ãƒ¡ã‚¬ãƒã¨ã®ä½µç”¨ã‚’å‹§ã‚ã¾ã—ã‚‡ã†ã€‚
                    </div>
                </div>
            </div>

            <!-- ========== å•é¡Œ3 ========== -->
            <div class="question-card hidden" id="question3">
                <div class="question-number">å•é¡Œ 3</div>
                <div class="question-text">ã‚½ãƒ•ãƒˆã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºã®ä¸Šã‹ã‚‰ç›®è–¬ã‚’ã•ã™å ´åˆã€é¿ã‘ã‚‹ã¹ãé˜²è…å‰¤ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ</div>
                <div class="options">
                    <div class="option" data-answer="true">å¡©åŒ–ãƒ™ãƒ³ã‚¶ãƒ«ã‚³ãƒ‹ã‚¦ãƒ ï¼ˆBAKï¼‰</div>
                    <div class="option" data-answer="false">ãƒ›ã‚¦é…¸</div>
                    <div class="option" data-answer="false">å¡©åŒ–ãƒŠãƒˆãƒªã‚¦ãƒ </div>
                    <div class="option" data-answer="false">ãƒ’ã‚¢ãƒ«ãƒ­ãƒ³é…¸</div>
                </div>
                <div class="feedback"></div>
                <div class="explanation hidden">
                    <strong>è§£èª¬ï¼š</strong>å¡©åŒ–ãƒ™ãƒ³ã‚¶ãƒ«ã‚³ãƒ‹ã‚¦ãƒ ï¼ˆBAKï¼‰ã¯ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºã«å¸ç€ã—ã¦è§’è†œã«æ‚ªå½±éŸ¿ã‚’ä¸ãˆã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚CLä¸Šã‹ã‚‰ç›®è–¬ã‚’ã•ã™å ´åˆã¯ã€é˜²è…å‰¤ãŒå…¥ã£ã¦ã„ãªã„ä½¿ã„åˆ‡ã‚Šã‚¿ã‚¤ãƒ—ã‹ã€BAKä»¥å¤–ã®é˜²è…å‰¤ãŒå…¥ã£ã¦ã„ã‚‹ç›®è–¬ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚
                    <div class="staff-point">
                        <strong>æ‚£è€…æ§˜ã¸ã®èª¬æ˜ãƒã‚¤ãƒ³ãƒˆï¼š</strong>å¸‚è²©ã®ç›®è–¬ã‚’ä½¿ã„ãŸã„ã¨ã„ã†æ‚£è€…æ§˜ã«ã¯ã€ã€Œã‚½ãƒ•ãƒˆã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºã‚’ä½¿ç”¨ã—ãŸã¾ã¾ç‚¹çœ¼ã—ãªã„ã“ã¨ã€ã®æ³¨æ„æ›¸ããŒãªã„ã‹ç¢ºèªã™ã‚‹ã‚ˆã†ä¼ãˆã¾ã—ã‚‡ã†ã€‚
                    </div>
                </div>
            </div>

            <!-- ========== å•é¡Œ4 ========== -->
            <div class="question-card hidden" id="question4">
                <div class="question-number">å•é¡Œ 4</div>
                <div class="question-text">èŠ±ç²‰ç—‡ã«ã‚ˆã‚‹ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼æ€§çµè†œç‚ãŒã‚ã‚‹æ™‚æœŸã®ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºè£…ç”¨ã«ã¤ã„ã¦ã€æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ</div>
                <div class="options">
                    <div class="option" data-answer="true">åŸºæœ¬çš„ã«CLè£…ç”¨ã¯ä¸­æ­¢ã—ã€ãƒ¡ã‚¬ãƒã«æ›¿ãˆã‚‹</div>
                    <div class="option" data-answer="false">æŠ—ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼ç‚¹çœ¼è–¬ã‚’CLã®ä¸Šã‹ã‚‰ã•ã›ã°å•é¡Œãªã„</div>
                    <div class="option" data-answer="false">ãƒãƒ¼ãƒ‰ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºãªã‚‰è£…ç”¨ã‚’ç¶šã‘ã¦ã‚ˆã„</div>
                    <div class="option" data-answer="false">1æ—¥ä½¿ã„æ¨ã¦ãªã‚‰ç—‡çŠ¶ãŒã‚ã£ã¦ã‚‚è£…ç”¨ã‚’ç¶šã‘ã¦ã‚ˆã„</div>
                </div>
                <div class="feedback"></div>
                <div class="explanation hidden">
                    <strong>è§£èª¬ï¼š</strong>ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºã¯ç›®ã«ç›´æ¥æ¥è§¦ã™ã‚‹ãŸã‚ã€ãƒ¬ãƒ³ã‚ºã®æ‘©æ“¦ã‚„ç•°ç‰©æ„ŸãŒã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼åå¿œã‚’åˆºæ¿€ã—ã€ç—‡çŠ¶ã‚’æ‚ªåŒ–ã•ã›ã¾ã™ã€‚ã¾ãŸã€ãƒ¬ãƒ³ã‚ºã«ã‚¢ãƒ¬ãƒ«ã‚²ãƒ³ãŒå¸ç€ã—ã¦ç—‡çŠ¶ãŒé•·æœŸåŒ–ã™ã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚‹ãŸã‚ã€ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼æ€§çµè†œç‚ã®é–“ã¯è£…ç”¨ã‚’ä¸­æ­¢ã™ã¹ãã§ã™ã€‚
                </div>
            </div>

            <!-- ========== å•é¡Œ5 ========== -->
            <div class="question-card hidden" id="question5">
                <div class="question-number">å•é¡Œ 5</div>
                <div class="question-text">èŠ±ç²‰ç—‡ã®æ²»ç™‚ã§æ³¨ç›®ã•ã‚Œã¦ã„ã‚‹ã€Œãƒ—ãƒ­ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ç‚¹çœ¼ç™‚æ³•ã€ã¨ã¯ã©ã®ã‚ˆã†ãªæ²»ç™‚æ³•ã§ã™ã‹ï¼Ÿ</div>
                <div class="options">
                    <div class="option" data-answer="true">èŠ±ç²‰é£›æ•£å‰ã‹ã‚‰æŠ—ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼ç‚¹çœ¼è–¬ã‚’é–‹å§‹ã™ã‚‹</div>
                    <div class="option" data-answer="false">ç—‡çŠ¶ãŒå‡ºã¦ã‹ã‚‰å¼·ã„ç‚¹çœ¼è–¬ã‚’ä½¿ç”¨ã™ã‚‹</div>
                    <div class="option" data-answer="false">ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºã®ä¸Šã‹ã‚‰ç‚¹çœ¼ã™ã‚‹æ–¹æ³•</div>
                    <div class="option" data-answer="false">å†…æœè–¬ã®ã¿ã§æ²»ç™‚ã™ã‚‹æ–¹æ³•</div>
                </div>
                <div class="feedback"></div>
                <div class="explanation hidden">
                    <strong>è§£èª¬ï¼š</strong>ãƒ—ãƒ­ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ç‚¹çœ¼ç™‚æ³•ã¯ã€èŠ±ç²‰ãŒé£›æ•£ã™ã‚‹å‰ã‹ã‚‰æŠ—ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼ç‚¹çœ¼è–¬ã‚’é–‹å§‹ã—ã¦ã€èŠ±ç²‰é£›æ•£æ™‚æœŸã®ç›®ã®ç—‡çŠ¶ã‚’ã§ãã‚‹ã ã‘æŠ‘ãˆã‚‹æ²»ç™‚æ³•ã§ã™ã€‚ç—‡çŠ¶ã‚’æœ€å°é™ã«ã—ã¦ã€æ—©ãCLè£…ç”¨ã‚’å†é–‹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ãŒç›®çš„ã§ã™ã€‚
                    <div class="staff-point">
                        <strong>æ‚£è€…æ§˜ã¸ã®èª¬æ˜ãƒã‚¤ãƒ³ãƒˆï¼š</strong>æ¯å¹´èŠ±ç²‰ç—‡ã§å›°ã£ã¦ã„ã‚‹æ‚£è€…æ§˜ã«ã¯ã€èŠ±ç²‰ã‚·ãƒ¼ã‚ºãƒ³å‰ã«å—è¨ºã—ã¦æ—©ã‚ã«ç‚¹çœ¼ã‚’é–‹å§‹ã™ã‚‹ã“ã¨ã‚’å‹§ã‚ã¾ã—ã‚‡ã†ã€‚
                    </div>
                </div>
            </div>

            <!-- ========== å•é¡Œ6 ========== -->
            <div class="question-card hidden" id="question6">
                <div class="question-number">å•é¡Œ 6</div>
                <div class="question-text">ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºè£…ç”¨ä¸­ã«ç›®ãŒç—›ããªã£ãŸå ´åˆã€æœ€åˆã«ã™ã¹ãã“ã¨ã¯ä½•ã§ã™ã‹ï¼Ÿ</div>
                <div class="options">
                    <div class="option" data-answer="true">ã™ãã«ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºã‚’å¤–ã™</div>
                    <div class="option" data-answer="false">ç›®è–¬ã‚’ã•ã—ã¦æ§˜å­ã‚’è¦‹ã‚‹</div>
                    <div class="option" data-answer="false">ãƒ¬ãƒ³ã‚ºã‚’æ°´é“æ°´ã§æ´—ã£ã¦å†è£…ç”¨ã™ã‚‹</div>
                    <div class="option" data-answer="false">ç—›ã¿ãŒæ²»ã¾ã‚‹ã¾ã§ç›®ã‚’é–‰ã˜ã¦å¾…ã¤</div>
                </div>
                <div class="feedback"></div>
                <div class="explanation hidden">
                    <strong>è§£èª¬ï¼š</strong>ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºè£…ç”¨ä¸­ã«å……è¡€ã€çœ¼ç—›ã€æµæ¶™ã€çœ¼è„‚ãªã©ã®ç—‡çŠ¶ãŒå‡ºãŸå ´åˆã¯ã€ã¾ãšã™ãã«ãƒ¬ãƒ³ã‚ºã‚’å¤–ã™ã“ã¨ãŒé‡è¦ã§ã™ã€‚ç•°ç‰©æ··å…¥ã€ãƒ¬ãƒ³ã‚ºç ´æã€æ„ŸæŸ“ç—‡ãªã©æ§˜ã€…ãªåŸå› ãŒè€ƒãˆã‚‰ã‚Œã€è£…ç”¨ã‚’ç¶šã‘ã‚‹ã¨æ‚ªåŒ–ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
                </div>
            </div>

            <!-- ========== å•é¡Œ7 ========== -->
            <div class="question-card hidden" id="question7">
                <div class="question-number">å•é¡Œ 7</div>
                <div class="question-text">é‡ç—‡ã®è§’è†œæ„ŸæŸ“ç—‡ã®åŸå› ã¨ãªã‚‹å¾®ç”Ÿç‰©ã¨ã—ã¦ã€è³‡æ–™ã«æŒ™ã’ã‚‰ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ</div>
                <div class="options">
                    <div class="option" data-answer="true">ã‚¢ã‚«ãƒ³ãƒˆã‚¢ãƒ¡ãƒ¼ãƒã¨ç·‘è†¿èŒ</div>
                    <div class="option" data-answer="false">å¤§è…¸èŒã¨ãƒ–ãƒ‰ã‚¦çƒèŒ</div>
                    <div class="option" data-answer="false">ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶ã‚¦ã‚¤ãƒ«ã‚¹ã¨ã‚¢ãƒ‡ãƒã‚¦ã‚¤ãƒ«ã‚¹</div>
                    <div class="option" data-answer="false">ã‚«ãƒ³ã‚¸ãƒ€ã¨ã‚¢ã‚¹ãƒšãƒ«ã‚®ãƒ«ã‚¹</div>
                </div>
                <div class="feedback"></div>
                <div class="explanation hidden">
                    <strong>è§£èª¬ï¼š</strong>é‡ç—‡ã®è§’è†œæ„ŸæŸ“ç—‡ã®åŸå› ã¨ã—ã¦ã€ã‚¢ã‚«ãƒ³ãƒˆã‚¢ãƒ¡ãƒ¼ãƒã¨ç·‘è†¿èŒãŒæŒ™ã’ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ã©ã¡ã‚‰ã‚‚æ°´é“æ°´ãªã©ã‚’ä»‹ã—ã¦ãƒ¬ãƒ³ã‚ºã‚±ãƒ¼ã‚¹å†…ã§å¢—æ®–ã—ã€ç›®ã«å…¥ã£ã¦æ„ŸæŸ“ç—‡ã‚’èµ·ã“ã—ã¾ã™ã€‚æ€¥æ¿€ãªç›®ã®ç—›ã¿ã¨è¦–åŠ›ä½ä¸‹ã‚’è‡ªè¦šã—ã€æ²»ç™‚ã‚‚é•·æœŸã«ãªã‚‹ã“ã¨ãŒå¤šã„ã§ã™ã€‚
                </div>
            </div>

            <!-- ========== å•é¡Œ8 ========== -->
            <div class="question-card hidden" id="question8">
                <div class="question-number">å•é¡Œ 8</div>
                <div class="question-text">ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºã«ã‚ˆã‚‹è§’è†œæ„ŸæŸ“ç—‡ã®ä¸»ãªæ„ŸæŸ“çµŒè·¯ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ</div>
                <div class="options">
                    <div class="option" data-answer="true">æ±šæŸ“ã•ã‚ŒãŸæ‰‹æŒ‡ã¨ä¿å­˜ã‚±ãƒ¼ã‚¹å†…ã®æ±šæŸ“</div>
                    <div class="option" data-answer="false">ç©ºæ°—ä¸­ã®é£›æ²«æ„ŸæŸ“</div>
                    <div class="option" data-answer="false">ãƒ—ãƒ¼ãƒ«ã‚„æ¸©æ³‰ã‹ã‚‰ã®ç›´æ¥æ„ŸæŸ“</div>
                    <div class="option" data-answer="false">ä»–äººã®ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºã®è²¸ã—å€Ÿã‚Š</div>
                </div>
                <div class="feedback"></div>
                <div class="explanation hidden">
                    <strong>è§£èª¬ï¼š</strong>è§’è†œæ„ŸæŸ“ç—‡ã®å¤§ããªãƒªã‚¹ã‚¯ã¨ã—ã¦ã€1ï¼‰æ±šæŸ“ã•ã‚ŒãŸæ‰‹æŒ‡ã‚’ä»‹ã—ã¦å¾®ç”Ÿç‰©ãŒç›®ã«å…¥ã‚‹å ´åˆã€2ï¼‰ä¿å­˜ã‚±ãƒ¼ã‚¹å†…ãŒå¾®ç”Ÿç‰©ã«æ±šæŸ“ã•ã‚Œã¦ãƒ¬ãƒ³ã‚ºã«ä»˜ç€ã—ãŸå¾®ç”Ÿç‰©ãŒç›®ã«å…¥ã‚‹å ´åˆã€ã®2ã¤ãŒæŒ™ã’ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚
                    <div class="staff-point">
                        <strong>æ‚£è€…æ§˜ã¸ã®èª¬æ˜ãƒã‚¤ãƒ³ãƒˆï¼š</strong>ã€Œã¡ã‚ƒã‚“ã¨ã‚±ã‚¢ã—ã¦ã„ã‚‹ã€ã¨è¨€ã†æ‚£è€…æ§˜ã§ã‚‚ã€æ‰‹æ´—ã„ã®æ–¹æ³•ã‚„ã‚±ãƒ¼ã‚¹ã®äº¤æ›é »åº¦ã‚’å…·ä½“çš„ã«ç¢ºèªã™ã‚‹ã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚
                    </div>
                </div>
            </div>

            <!-- ========== å•é¡Œ9 ========== -->
            <div class="question-card hidden" id="question9">
                <div class="question-number">å•é¡Œ 9</div>
                <div class="question-text">ã‚½ãƒ•ãƒˆã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºã®ãƒ¬ãƒ³ã‚ºã‚±ãƒ¼ã‚¹ã®äº¤æ›ç›®å®‰ã¨ã—ã¦æ¨å¥¨ã•ã‚Œã¦ã„ã‚‹æœŸé–“ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ</div>
                <div class="options">
                    <div class="option" data-answer="true">3ã‹æœˆ</div>
                    <div class="option" data-answer="false">1ã‹æœˆ</div>
                    <div class="option" data-answer="false">6ã‹æœˆ</div>
                    <div class="option" data-answer="false">1å¹´</div>
                </div>
                <div class="feedback"></div>
                <div class="explanation hidden">
                    <strong>è§£èª¬ï¼š</strong>è§’è†œæ„ŸæŸ“ç—‡ã§ã¯ãƒ¬ãƒ³ã‚ºã‚±ãƒ¼ã‚¹ã®æ±šæŸ“ãŒå¤§ããªå•é¡Œã¨ãªã£ã¦ã„ã¾ã™ã€‚ã‚½ãƒ•ãƒˆã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºã®å ´åˆã€ãƒ¬ãƒ³ã‚ºã‚±ãƒ¼ã‚¹ã¯3ã‹æœˆã‚’ç›®é€”ã«æ–°ã—ã„ã‚‚ã®ã¨äº¤æ›ã™ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚
                </div>
            </div>

            <!-- ========== å•é¡Œ10 ========== -->
            <div class="question-card hidden" id="question10">
                <div class="question-number">å•é¡Œ 10</div>
                <div class="question-text">æ‚£è€…æ§˜ã‹ã‚‰ã€Œã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºã¯ãŠåŒ–ç²§ã®å‰ã¨å¾Œã€ã©ã¡ã‚‰ã«ã¤ã‘ã‚Œã°ã„ã„ã§ã™ã‹ï¼Ÿã€ã¨è³ªå•ã•ã‚ŒãŸå ´åˆã€æ­£ã—ã„å›ç­”ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ</div>
                <div class="options">
                    <div class="option" data-answer="true">ãŠåŒ–ç²§ã®å‰ã«ã¤ã‘ã‚‹</div>
                    <div class="option" data-answer="false">ãŠåŒ–ç²§ã®å¾Œã«ã¤ã‘ã‚‹</div>
                    <div class="option" data-answer="false">ã©ã¡ã‚‰ã§ã‚‚å•é¡Œãªã„</div>
                    <div class="option" data-answer="false">ãŠåŒ–ç²§ã‚’ã™ã‚‹æ—¥ã¯CLè£…ç”¨ã‚’é¿ã‘ã‚‹</div>
                </div>
                <div class="feedback"></div>
                <div class="explanation hidden">
                    <strong>è§£èª¬ï¼š</strong>ãŠåŒ–ç²§å¾Œã®æ‰‹ã‚„æŒ‡ã¯æ±šã‚Œã¦ã„ã‚‹ãŸã‚ã€å…ˆã«ã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºã‚’ã¤ã‘ã¦ã‹ã‚‰ãŠåŒ–ç²§ã‚’ã™ã‚‹ã®ãŒæ­£ã—ã„é †åºã§ã™ã€‚åŒ–ç²§å“ãŒã‚³ãƒ³ã‚¿ã‚¯ãƒˆãƒ¬ãƒ³ã‚ºã®æ±šã‚Œã®åŸå› ã«ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ãŸã ã—ã€ãƒã‚¹ã‚«ãƒ©ã‚„ã‚¢ã‚¤ãƒ©ã‚¤ãƒ³ã‚’å¡—ã‚‹ã¨ãã¯ãƒ¬ãƒ³ã‚ºã«è§¦ã‚Œãªã„ã‚ˆã†æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚
                    <div class="staff-point">
                        <strong>æ‚£è€…æ§˜ã¸ã®èª¬æ˜ãƒã‚¤ãƒ³ãƒˆï¼š</strong>å¥³æ€§ã®æ‚£è€…æ§˜ã«ã¯ã€ã€ŒCLâ†’ãƒ¡ã‚¤ã‚¯ã€ã®é †ç•ªã¨ã€å¤–ã™ã¨ãã¯ã€ŒCLå¤–ã™â†’ãƒ¡ã‚¤ã‚¯è½ã¨ã™ã€ã®é †ç•ªã‚‚ã‚ã‚ã›ã¦èª¬æ˜ã™ã‚‹ã¨è¦ªåˆ‡ã§ã™ã€‚
                    </div>
                </div>
            </div>

            <div class="buttons">
                <button class="next-button hidden" onclick="nextQuestion()">æ¬¡ã®å•é¡Œã¸</button>
                <button class="result-button hidden" onclick="showFinalScore()">ğŸŠ çµæœç™ºè¡¨ã¸ ğŸŠ</button>
            </div>
        </div>
    </div>

    <script src="quiz-config.js"></script>
    <script>
        const QUIZ_ID = 'cl_complication';
        const TOTAL_QUESTIONS = 10;

        const ALL_QUIZZES = [
            'ã‚³ãƒ³ã‚¿ã‚¯ãƒˆå‡¦æ–¹ã®åŸºæœ¬ã‚¯ã‚¤ã‚º.html',
            'å¤§äººã®é ãç”¨ãƒ¡ã‚¬ãƒåˆã‚ã›ã‚¯ã‚¤ã‚º.html',
            'å¼±è¦–ã‚¯ã‚¤ã‚º.html',
            'æ–œè¦–ã‚¯ã‚¤ã‚º.html',
            'ç™½å†…éšœã«ã¤ã„ã¦ã‚¯ã‚¤ã‚º.html',
            'ç·‘å†…éšœã«ã¤ã„ã¦ã‚¯ã‚¤ã‚º.html',
            'è€çœ¼é¡åˆã‚ã›_ã‚¯ã‚¤ã‚º.html',
            'è‡ªæ²»ä½“ã®ç·‘å†…éšœæ¤œè¨ºã®åˆ¶åº¦ã®ã‚¯ã‚¤ã‚º.html',
            'èŠ±ç²‰ç—‡ã«ã¤ã„ã¦ã®ã‚¯ã‚¤ã‚º.html',
            'è¿‘è¦–ã«ã¤ã„ã¦ã®ã‚¯ã‚¤ã‚º.html',
            'é™¢å†…ãƒ«ãƒ¼ãƒ«ç¢ºèªã‚¯ã‚¤ã‚º.html',
            'å°å…è¿‘è¦–å¯¾ç­–_ã‚¯ã‚¤ã‚º.html',
            'CLåˆä½µç—‡_ã‚¯ã‚¤ã‚º.html'
        ];
        const CURRENT_QUIZ_FILE = decodeURIComponent(location.pathname.split('/').pop());

        let currentQuestion = 1;
        let score = 0;
        let totalQuestions = 10;
        let questionList = [];
        let isDaily = false;

        const allQuestions = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

        document.addEventListener('DOMContentLoaded', function() {
            updateProgressStatus();

            const urlParams = new URLSearchParams(window.location.search);
            const mode = urlParams.get('mode');

            const dailyCount = getDailyQuestionCount();
            const dailyBtn = document.querySelector('.mode-button');
            if (dailyBtn && dailyBtn.textContent.includes('ä»Šæ—¥ã®')) {
                dailyBtn.textContent = `ğŸ“‹ ä»Šæ—¥ã®${dailyCount}å•`;
            }

            if (mode && (mode.startsWith('daily') || mode === 'full' || mode === 'review')) {
                startQuiz(mode);
            }
        });

        function updateProgressStatus() {
            const incorrectList = getIncorrectQuestions(QUIZ_ID);
            const unansweredList = getUnansweredQuestions(QUIZ_ID, TOTAL_QUESTIONS);
            const correctNum = TOTAL_QUESTIONS - incorrectList.length - unansweredList.length;

            const incorrectCount = document.getElementById('incorrectCount');
            const unansweredCount = document.getElementById('unansweredCount');
            const correctCount = document.getElementById('correctCount');
            const totalQuestionsCount = document.getElementById('totalQuestionsCount');

            if (incorrectCount) {
                incorrectCount.textContent = `${incorrectList.length}å•`;
            }
            if (unansweredCount) {
                unansweredCount.textContent = `${unansweredList.length}å•`;
            }
            if (correctCount) {
                correctCount.textContent = `${correctNum}å•`;
            }
            if (totalQuestionsCount) {
                totalQuestionsCount.textContent = `${TOTAL_QUESTIONS}å•`;
            }

            // é–“é•ãˆãŸå•é¡Œå¾©ç¿’ãƒœã‚¿ãƒ³ã®è¡¨ç¤ºåˆ¶å¾¡
            const reviewModeBtn = document.getElementById('reviewModeButton');
            if (reviewModeBtn) {
                if (incorrectList.length > 0) {
                    reviewModeBtn.classList.remove('hidden');
                    reviewModeBtn.innerHTML = `âŒ é–“é•ãˆãŸå•é¡Œã ã‘å¾©ç¿’<span class="btn-sub">${incorrectList.length}å•</span>`;
                } else {
                    reviewModeBtn.classList.add('hidden');
                }
            }
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function flashCorrect(element) {
            const card = element.closest('.question-card');
            if (card) {
                card.classList.add('correct-flash');
                setTimeout(() => card.classList.remove('correct-flash'), 400);
            }
        }

        function celebrateResult(isPerfect) {
            if (navigator.vibrate) {
                if (isPerfect) {
                    navigator.vibrate([100, 50, 100, 50, 100]);
                } else {
                    navigator.vibrate([50, 30, 50]);
                }
            }

            const emojis = isPerfect
                ? ['ğŸ‰', 'ğŸ†', 'ğŸ‘‘', 'ğŸ’¯', 'â­', 'âœ¨', 'ğŸŒŸ', 'ğŸ¥‡']
                : ['ğŸ‰', 'â­', 'âœ¨', 'ğŸ‘', 'ğŸŠ'];
            const count = isPerfect ? 15 : 8;
            const centerX = window.innerWidth / 2;
            const centerY = window.innerHeight / 3;

            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const emoji = document.createElement('div');
                    emoji.className = 'celebrate-emoji';
                    emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                    emoji.style.left = (centerX - 100 + Math.random() * 200) + 'px';
                    emoji.style.top = (centerY + Math.random() * 50) + 'px';
                    document.body.appendChild(emoji);

                    setTimeout(() => emoji.remove(), 1000);
                }, i * 100);
            }
        }

        function startQuiz(mode) {
            document.querySelector('h1').classList.add('hidden');
            document.querySelector('.subtitle').classList.add('hidden');
            document.getElementById('modeSelection').classList.add('hidden');
            document.getElementById('quizArea').classList.remove('hidden');
            document.getElementById('quizTitleHeader').classList.remove('hidden');

            if (mode === 'review') {
                // é–“é•ãˆãŸå•é¡Œã®ã¿ã‚’å‡ºé¡Œ
                isDaily = false;
                questionList = getIncorrectQuestions(QUIZ_ID);
                if (questionList.length === 0) {
                    // é–“é•ãˆãŸå•é¡ŒãŒãªã„å ´åˆã¯ãƒ‡ã‚¤ãƒªãƒ¼ãƒ¢ãƒ¼ãƒ‰ã«æˆ»ã™
                    questionList = getWeightedRandomQuestions(QUIZ_ID, TOTAL_QUESTIONS, getDailyQuestionCount());
                }
                totalQuestions = questionList.length;
            } else if (mode.startsWith('daily')) {
                isDaily = true;
                const countFromUrl = parseInt(mode.replace('daily', ''));
                totalQuestions = countFromUrl || getDailyQuestionCount();
                questionList = getWeightedRandomQuestions(QUIZ_ID, TOTAL_QUESTIONS, totalQuestions);
            } else {
                isDaily = false;
                totalQuestions = TOTAL_QUESTIONS;
                questionList = [...allQuestions];
            }

            for (let i = 1; i <= TOTAL_QUESTIONS; i++) {
                const questionElement = document.getElementById(`question${i}`);
                if(questionElement) {
                    if (questionList.includes(i)) {
                        if (i === questionList[0]) {
                            questionElement.classList.remove('hidden');
                        } else {
                            questionElement.classList.add('hidden');
                        }
                    } else {
                        questionElement.style.display = 'none';
                    }
                }
            }

            currentQuestion = 0;
            updateQuestionNumbers();
            document.getElementById('total').textContent = totalQuestions;
            shuffleOptions(questionList[0]);
            updateProgress();
        }

        function getRandomQuestions(count) {
            const shuffled = [...allQuestions].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }

        function updateQuestionNumbers() {
            questionList.forEach((questionId, index) => {
                const questionElement = document.getElementById(`question${questionId}`);
                if(questionElement) {
                    const questionNumber = questionElement.querySelector('.question-number');
                    questionNumber.textContent = `å•é¡Œ ${index + 1}`;
                }
            });
        }

        function shuffleOptions(questionId) {
            if (!questionId) return;
            const container = document
                .getElementById(`question${questionId}`)
                .querySelector('.options');
            if (!container) return;

            for (let i = container.children.length; i >= 0; i--) {
                const rand = Math.floor(Math.random() * i);
                if (container.children[rand]) {
                    container.appendChild(container.children[rand]);
                }
            }
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / totalQuestions) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentQ').textContent = currentQuestion + 1;
        }

        function selectAnswer(selectedOption) {
            const currentQuestionId = questionList[currentQuestion];
            const currentQuestionElement = document.getElementById(`question${currentQuestionId}`);
            const options = currentQuestionElement.querySelectorAll('.option');
            const feedback = currentQuestionElement.querySelector('.feedback');
            const explanation = currentQuestionElement.querySelector('.explanation');
            const nextButton = document.querySelector('.next-button');
            const resultButton = document.querySelector('.result-button');

            const isCorrect = selectedOption.dataset.answer === 'true';
            let correctAnswerText = '';

            options.forEach(option => {
                if (option.dataset.answer === 'true') {
                    correctAnswerText = option.textContent;
                }
            });

            options.forEach(option => {
                option.classList.add('disabled');
                if (option.dataset.answer === 'true') {
                    option.classList.add('correct');
                } else if (option === selectedOption && option.dataset.answer === 'false') {
                    option.classList.add('incorrect');
                }
            });

            if (isCorrect) {
                feedback.textContent = 'ğŸ‰ æ­£è§£ã§ã™ï¼';
                feedback.className = 'feedback correct';
                score++;
                flashCorrect(selectedOption);
            } else {
                feedback.textContent = `âŒ ä¸æ­£è§£ã§ã™ã€‚æ­£è§£ã¯ã€Œ${correctAnswerText}ã€ã§ã™ã€‚`;
                feedback.className = 'feedback incorrect';
            }

            if (typeof recordQuestionResult === 'function') {
                recordQuestionResult(QUIZ_ID, currentQuestionId, isCorrect);
            }

            feedback.style.display = 'block';
            explanation.classList.remove('hidden');

            if (currentQuestion < totalQuestions - 1) {
                nextButton.classList.remove('hidden');
            } else {
                resultButton.classList.remove('hidden');
            }

            updateScore();
            feedback.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function nextQuestion() {
            const currentQuestionId = questionList[currentQuestion];
            document.getElementById(`question${currentQuestionId}`).classList.add('hidden');

            currentQuestion++;
            const nextQuestionId = questionList[currentQuestion];

            shuffleOptions(nextQuestionId);
            document.getElementById(`question${nextQuestionId}`).classList.remove('hidden');
            document.querySelector('.next-button').classList.add('hidden');
            updateProgress();
        }

        function showFinalScore() {
            questionList.forEach(questionId => {
                const qElem = document.getElementById(`question${questionId}`);
                if(qElem) qElem.classList.add('hidden');
            });
            document.querySelector('.next-button').classList.add('hidden');
            document.querySelector('.result-button').classList.add('hidden');
            document.querySelector('.quiz-status').classList.add('hidden');
            document.getElementById('quizArea').classList.add('hidden');
            document.querySelector('.quiz-container').classList.add('hidden');

            const percentage = Math.round((score / totalQuestions) * 100);

            const isPerfect = score === totalQuestions;
            setTimeout(() => {
                celebrateResult(isPerfect);
            }, 300);

            if (typeof recordQuizResult === 'function') {
                recordQuizResult(QUIZ_ID, score, totalQuestions);
            }

            let title, message;

            if (score === totalQuestions) {
                title = 'ğŸ† å®Œç’§ã§ã™ï¼ ğŸ†';
                message = `å…¨å•æ­£è§£ï¼CLåˆä½µç—‡ã®çŸ¥è­˜ã¯ä¸‡å…¨ã§ã™ã€‚\næ‚£è€…æ§˜ã¸ã®é©åˆ‡ãªæŒ‡å°ãŒã§ãã¾ã™ã­ã€‚`;
            } else if (score >= totalQuestions * 0.8) {
                title = 'ğŸŒŸ ç´ æ™´ã‚‰ã—ã„ï¼ ğŸŒŸ';
                message = `é«˜å¾—ç‚¹ã§ã™ï¼CLåˆä½µç—‡ã®é‡è¦ãƒã‚¤ãƒ³ãƒˆã‚’ã—ã£ã‹ã‚Šç†è§£ã•ã‚Œã¦ã„ã¾ã™ã€‚\né–“é•ãˆãŸç®‡æ‰€ã‚’å¾©ç¿’ã™ã‚Œã°ã€ã•ã‚‰ã«çš„ç¢ºãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ãŒã§ãã¾ã™ã‚ˆã€‚`;
            } else if (score >= totalQuestions * 0.5) {
                title = 'ğŸ‘ ã‚ˆãã§ãã¾ã—ãŸï¼ ğŸ‘';
                message = `åŸºæœ¬çš„ãªçŸ¥è­˜ã¯èº«ã«ã¤ã„ã¦ã„ã¾ã™ã€‚\nè§£èª¬ã‚’èª­ã¿ç›´ã—ã¦ã€ç‰¹ã«æ„ŸæŸ“ç—‡äºˆé˜²ã‚„ã‚±ã‚¢æ–¹æ³•ã®çŸ¥è­˜ã‚’å›ºã‚ã¾ã—ã‚‡ã†ã€‚`;
            } else {
                title = 'ğŸ’ª ã“ã‚Œã‹ã‚‰ãŒæœ¬ç•ªï¼ ğŸ’ª';
                message = `è‰¯ã„å¾©ç¿’ã®æ©Ÿä¼šã«ãªã‚Šã¾ã—ãŸã­ã€‚\nã“ã®ã‚¯ã‚¤ã‚ºã‚’å…ƒã«çŸ¥è­˜ã‚’æ•´ç†ã—ã€æ‚£è€…æ§˜ã¸ã®èª¬æ˜ã«æ´»ã‹ã—ã¦ã„ãã¾ã—ã‚‡ã†ï¼`;
            }

            const resultTitleHTML = `<div class="result-title">ğŸŠ çµæœç™ºè¡¨ ğŸŠ</div>`;
            const scoreHTML = `<span class="final-score-highlight">æœ€çµ‚ã‚¹ã‚³ã‚¢ : ${score}/${totalQuestions}ï¼ˆ${percentage}%ï¼‰</span>`;
            const evaluationHTML = `<div class="result-evaluation">${title}</div>`;
            const messageHTML = `<div>${message.replace(/\n/g, '<br>')}</div>`;

            // é€²æ—æƒ…å ±ã‚’å–å¾—ã—ã¦è¡¨ç¤º
            const progressHTML = generateResultProgressHTML();

            document.getElementById('resultDetail').innerHTML = resultTitleHTML + evaluationHTML + scoreHTML + messageHTML + progressHTML;

            document.getElementById('finalResult').classList.remove('hidden');
            document.querySelector('.shuffle-button').classList.remove('hidden');
            const dailyCount = getDailyQuestionCount();
            document.getElementById('shuffleButton').innerHTML = 'ğŸ² ã‚·ãƒ£ãƒƒãƒ•ãƒ«' + dailyCount + 'å•<span class="btn-sub">åˆ¥ã‚¸ãƒ£ãƒ³ãƒ«</span>';
            document.getElementById('retryButton').innerHTML = 'ğŸ”„ ã‚‚ã†' + dailyCount + 'å•<span class="btn-sub">åŒã‚¸ãƒ£ãƒ³ãƒ«</span>';
            document.querySelector('.retry-button').classList.remove('hidden');
            document.querySelector('.record-button').classList.remove('hidden');
            document.querySelector('.home-button-small').classList.remove('hidden');
            document.querySelector('.top-link').classList.add('hidden');

            // é–“é•ãˆãŸå•é¡Œãƒœã‚¿ãƒ³ã®è¡¨ç¤ºåˆ¶å¾¡
            const incorrectList = getIncorrectQuestions(QUIZ_ID);
            const reviewBtn = document.getElementById('reviewIncorrectButton');
            if (reviewBtn) {
                if (incorrectList.length > 0) {
                    reviewBtn.classList.remove('hidden');
                    reviewBtn.innerHTML = `âŒ é–“é•ãˆãŸå•é¡Œã‚’å¾©ç¿’<span class="btn-sub">${incorrectList.length}å•</span>`;
                } else {
                    reviewBtn.classList.add('hidden');
                }
            }

            // ãƒˆãƒƒãƒ—ã¸ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function resetQuiz() {
            document.getElementById('finalResult').classList.add('hidden');
            document.querySelector('.quiz-container').classList.remove('hidden');
            document.querySelector('.top-link').classList.remove('hidden');
            score = 0;
            updateScore();

            for (let i = 1; i <= TOTAL_QUESTIONS; i++) {
                const questionElement = document.getElementById(`question${i}`);
                if(questionElement){
                    questionElement.style.display = '';
                    questionElement.classList.add('hidden');

                    const options = questionElement.querySelectorAll('.option');
                    options.forEach(option => {
                        option.classList.remove('correct', 'incorrect', 'disabled');
                    });

                    questionElement.querySelector('.feedback').style.display = 'none';
                    questionElement.querySelector('.explanation').classList.add('hidden');
                }
            }

            document.querySelector('.next-button').classList.add('hidden');
            document.querySelector('.result-button').classList.add('hidden');
            document.querySelector('.shuffle-button').classList.add('hidden');
            document.querySelector('.retry-button').classList.add('hidden');
            document.querySelector('.record-button').classList.add('hidden');
            document.querySelector('.home-button-small').classList.add('hidden');

            document.querySelector('.quiz-status').classList.remove('hidden');

            if (isDaily) {
                startQuiz('daily');
            } else {
                startQuiz('full');
            }
        }

        function goHome() {
            document.getElementById('finalResult').classList.add('hidden');
            document.getElementById('quizArea').classList.add('hidden');
            document.querySelector('.quiz-container').classList.remove('hidden');
            document.querySelector('.top-link').classList.remove('hidden');

            document.querySelector('h1').classList.remove('hidden');
            document.querySelector('.subtitle').classList.remove('hidden');
            document.getElementById('quizTitleHeader').classList.add('hidden');

            for (let i = 1; i <= TOTAL_QUESTIONS; i++) {
                const questionElement = document.getElementById(`question${i}`);
                if(questionElement) {
                    questionElement.style.display = '';
                    questionElement.classList.add('hidden');

                    const options = questionElement.querySelectorAll('.option');
                    options.forEach(option => {
                        option.classList.remove('correct', 'incorrect', 'disabled');
                    });

                    questionElement.querySelector('.feedback').style.display = 'none';
                    questionElement.querySelector('.explanation').classList.add('hidden');
                }
            }

            document.querySelector('.next-button').classList.add('hidden');
            document.querySelector('.result-button').classList.add('hidden');
            document.querySelector('.shuffle-button').classList.add('hidden');
            document.querySelector('.retry-button').classList.add('hidden');
            document.querySelector('.record-button').classList.add('hidden');
            document.querySelector('.home-button-small').classList.add('hidden');
            document.querySelector('.quiz-status').classList.remove('hidden');

            currentQuestion = 1;
            score = 0;
            totalQuestions = TOTAL_QUESTIONS;
            questionList = [];
            isDaily = false;

            updateScore();
            updateProgressStatus();

            document.getElementById('modeSelection').classList.remove('hidden');
        }

        function updateScore() {
            document.getElementById('score').textContent = score;
        }

        // ãƒªã‚¶ãƒ«ãƒˆç”»é¢ç”¨ã®é€²æ—HTMLç”Ÿæˆ
        function generateResultProgressHTML() {
            const incorrectList = getIncorrectQuestions(QUIZ_ID);
            const unansweredList = getUnansweredQuestions(QUIZ_ID, TOTAL_QUESTIONS);
            const correctNum = TOTAL_QUESTIONS - incorrectList.length - unansweredList.length;
            const progressPercent = Math.round((correctNum / TOTAL_QUESTIONS) * 100);
            const isPerfect = correctNum === TOTAL_QUESTIONS;

            return `
                <div class="result-progress-section">
                    <div class="result-progress-title">ğŸ“Š ã“ã®ã‚¯ã‚¤ã‚ºã®é€²æ—</div>
                    <div class="result-progress-bar-container">
                        <div class="result-progress-bar-fill ${isPerfect ? 'perfect' : ''}" style="width: ${progressPercent}%"></div>
                    </div>
                    <div class="result-progress-percentage">${isPerfect ? 'ğŸŒ¸ ' : ''}${progressPercent}%${isPerfect ? ' ãƒã‚¹ã‚¿ãƒ¼ï¼' : ''}</div>
                    <div class="result-progress-stats">
                        <div class="result-progress-stat">
                            <span>âœ… æ­£è§£</span>
                            <span>${correctNum}å•</span>
                        </div>
                        <div class="result-progress-stat">
                            <span>âŒ é–“é•ã„</span>
                            <span>${incorrectList.length}å•</span>
                        </div>
                        <div class="result-progress-stat">
                            <span>ğŸ†• æœªæŒ‘æˆ¦</span>
                            <span>${unansweredList.length}å•</span>
                        </div>
                        <div class="result-progress-stat">
                            <span>ğŸ“ å…¨å•é¡Œ</span>
                            <span>${TOTAL_QUESTIONS}å•</span>
                        </div>
                    </div>
                </div>
            `;
        }

        function goToRandomQuiz() {
            const otherQuizzes = ALL_QUIZZES.filter(q => q !== CURRENT_QUIZ_FILE);
            const randomQuiz = otherQuizzes[Math.floor(Math.random() * otherQuizzes.length)];
            const dailyCount = getDailyQuestionCount();
            window.location.href = encodeURI(randomQuiz) + `?mode=daily${dailyCount}`;
        }

        function restartThisQuiz() {
            const dailyCount = getDailyQuestionCount();
            window.location.href = encodeURI(CURRENT_QUIZ_FILE) + `?mode=daily`;
        }

        // é–“é•ãˆãŸå•é¡Œã‚’å¾©ç¿’
        function reviewIncorrectQuestions() {
            const incorrectList = getIncorrectQuestions(QUIZ_ID);
            if (incorrectList.length === 0) return;

            // é–“é•ãˆãŸå•é¡Œæ•°ã‚’URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦æ¸¡ã™
            window.location.href = encodeURI(CURRENT_QUIZ_FILE) + `?mode=review`;
        }

        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('option') && !e.target.classList.contains('disabled')) {
                selectAnswer(e.target);
            }
        });
    </script>

    <div id="finalResult" class="final-score-card hidden">
      <div id="resultDetail" class="result-detail"></div>
      <div class="result-buttons">
        <div class="result-buttons-row">
          <button id="shuffleButton" class="shuffle-button hidden" onclick="goToRandomQuiz()">
            ğŸ² åˆ¥ã®ã‚¯ã‚¤ã‚ºã¸
            <span class="btn-sub">ãƒ©ãƒ³ãƒ€ãƒ é¸æŠ</span>
          </button>
          <button id="retryButton" class="retry-button hidden" onclick="restartThisQuiz()">
            ğŸ”„ ã‚‚ã†ä¸€åº¦
            <span class="btn-sub">åŒã˜ã‚¯ã‚¤ã‚º</span>
          </button>
        </div>
        <div class="result-buttons-row" style="margin-bottom: 12px;">
          <button id="reviewIncorrectButton" class="review-incorrect-button hidden" onclick="reviewIncorrectQuestions()">
            âŒ é–“é•ãˆãŸå•é¡Œã‚’å¾©ç¿’
            <span class="btn-sub">è‹¦æ‰‹ã‚’å…‹æœ</span>
          </button>
        </div>
        <div class="result-buttons-row secondary">
          <a href="../mypage.html" class="record-button hidden">ğŸ“Š å­¦ç¿’è¨˜éŒ²</a>
          <a href="../index.html" class="home-button-small hidden">ğŸ  ãƒ›ãƒ¼ãƒ </a>
        </div>
      </div>
    </div>

</body>
</html>
